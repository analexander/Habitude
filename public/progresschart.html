<!DOCTYPE html>
<html lang="en">

<head>
    <title>Passport Authentication</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css">
    <link href="stylesheets/members.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">

</head>

<body>

    <nav>
        <div class="nav">
            <div class="li flex-container">
                <a class="nav-link flex-item" id="logo" href="/members">habitude</a>
                <a class="nav-link flex-item" id="logout" href="/logout">Logout</a>
            </div>
        </div>
    </nav>


    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h1>Submit your daily activities!</h1>
                Sleep time: <input type="number" id="sleeptime" name="sleep_time"> hrs<br><br>
                Mindfulness: <input type="number" id="mindfulminutes" name="mindful_minutes"> hrs<br><br>
                Exercise time: <input type="number" id="exercisetime" name="exercise_time"> hrs<br><br>
                <input type="button" id="submitDaily" value="Submit activity">
                <h2><span class="yourDaily"></span></h2>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h2 id="habitHeader">Your progress</h2>
            </div>
        </div>
    </div>

    <div class="a">
        <canvas id="myChart1"></canvas>
    </div>

    <div class="a">
        <canvas id="myChart2"></canvas>
    </div>

    <div class="a">
        <canvas id="myChart3"></canvas>
    </div>
    <script>
        async function main() {
            const dailyLogResponse = await fetch('api/dailylog');
            const dailyLogData = await dailyLogResponse.json();
            console.log(dailyLogData);

            const goalsResponse = await fetch('api/goals');
            const goalsData = await goalsResponse.json();
            console.log(goalsData);

            var ctx = document.getElementById('myChart1').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'line',
                // The data for our dataset
                data: {
                    labels: ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"],
                    datasets: [{
                        data: [8, 8, 8, 8, 8, 8, 8],
                        label: "Goals",
                        borderColor: "#FF9C39",
                        fill: false
                    }, {
                        data: [5, 9, 7, 5, 6, 10, 4],
                        label: "Daily Log",
                        borderColor: "#8e5ea2",
                        fill: false
                    }
                    ]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Sleep Chart'
                    }, scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                }
            });
            var ctx = document.getElementById('myChart2').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'line',
                // The data for our dataset
                data: {
                    labels: ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"],
                    datasets: [{
                        data: [0.5, 1, 0.5, 1.5, 1, 0.5, 1, 1.5],
                        label: "Goals",
                        borderColor: "#3940FF",
                        fill: false
                    }, {
                        data: [1, 2, 0, 0.5, 1, 1.5, 2, 1],
                        label: "Daily Log",
                        borderColor: "#FFDA41",
                        fill: false
                    }
                    ]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Mindfulness Chart'
                    }, scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                }
            });
            var ctx = document.getElementById('myChart3').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'line',
                // The data for our dataset
                data: {
                    labels: ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"],
                    datasets: [{
                        data: [1, 2, 0.5, 1, 0.5, 3, 2, 1.5],
                        label: "Goals",
                        borderColor: "#FF3939",
                        fill: false
                    }, {
                        data: [2, 0.5, 1, 0.5, 1.5, 2, 1.5, 1],
                        label: "Daily Log",
                        borderColor: "#394DFF",
                        fill: false
                    }
                    ]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Exercise Chart'
                    }, scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            }
                        }]
                    }
                }
            });
        }
        main()
    </script>
    <!-- JQuery, Internal Javascript, and Google Analytics API -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/members.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-180240530-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-180240530-1');
    </script>
    <div class="footer">
        <p>project2 copyright 2020</p>
    </div>
</body>
<br>
<br>
<br>

</html>